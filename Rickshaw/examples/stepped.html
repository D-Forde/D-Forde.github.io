<!doctype html>
<html>
<head>
	<link type="text/css" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css">
	<link type="text/css" rel="stylesheet" href="../src/css/graph.css">
	<link type="text/css" rel="stylesheet" href="../src/css/detail.css">
	<link type="text/css" rel="stylesheet" href="../src/css/legend.css">
	<link type="text/css" rel="stylesheet" href="css/extensions.css?v=2">
	<link type="text/css" rel="stylesheet" href="graph1.css">
	<link href="sb-admin-2.css" rel="stylesheet">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
	<script src="http://code.jquery.com/jquery-latest.min.js"type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.15/jquery-ui.js"></script>
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	<!-- D3 Framework Javascript -->
	<script src="../vendor/d3.v3.js"></script>
	<!-- Rickshaw Framework Javascript -->
	<script src="../src/js/Rickshaw.js"></script>
	<script src="../src/js/Rickshaw.Class.js"></script>
	<script src="../src/js/Rickshaw.Compat.ClassList.js"></script>
	<script src="../src/js/Rickshaw.Graph.js"></script>
	<script src="../src/js/Rickshaw.Graph.Renderer.js"></script>
	<script src="../src/js/Rickshaw.Graph.Renderer.Line.js"></script>
	<script src="../src/js/Rickshaw.Graph.RangeSlider.Preview.js"></script>
	<script src="../src/js/Rickshaw.Graph.HoverDetail.js"></script>
	<script src="../src/js/Rickshaw.Graph.Annotate.js"></script>
	<script src="../src/js/Rickshaw.Graph.Legend.js"></script>
	<script src="../src/js/Rickshaw.Graph.Axis.Time.js"></script>
	<script src="../src/js/Rickshaw.Graph.Smoother.js"></script>
	<script src="../src/js/Rickshaw.Fixtures.Time.js"></script>
	<script src="../src/js/Rickshaw.Fixtures.Time.Local.js"></script>
	<script src="../src/js/Rickshaw.Fixtures.Number.js"></script>
	<script src="../src/js/Rickshaw.Fixtures.Color.js"></script>
	<script src="../src/js/Rickshaw.Color.Palette.js"></script>
	<script src="../src/js/Rickshaw.Graph.Axis.Y.js"></script>
	<script src="../src/js/Rickshaw.Graph.Axis.X.js"></script>
</head>
<body>
<!-- Navigation -->
	<nav class="navbar navbar-default navbar-static-top navbar-inverse" role="navigation" style="margin-bottom: 0">
	    <div class="navbar-header">
	    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	    </button> 
	    <a class="navbar-brand" href="chartexamples1.php">PMD - RespiraSense Demo</a>
	    </div>
	    <!-- /.navbar-header -->
	    <div class="navbar-collapse">
	        <ul class="nav navbar-top-links navbar-right"style="margin-right:0;">
	            <li class="dropdown" style="float:right;"> <a class="dropdown-toggle" data-toggle="dropdown" href="#">
	                <i class="fa fa-user-md"></i><b id="username"style="margin:3px">Dr. John Doe</b><i class="fa fa-caret-down"></i>
	            </a>
	                <ul class="dropdown-menu dropdown-user">
	                    <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
	                    </li>
	                    <li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
	                    </li>
	                    <li class="divider"></li>
	                    <li><a href="logout.php"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
	                    </li>
	                </ul>
	                <!-- /.dropdown-user -->
	            </li>
	            <!-- /.dropdown -->
	        </ul>
	    </div>
	    <!-- /.navbar-top-links -->
	</nav>

            <div id="page-wrapper">
                <div class="row">
                    <div class="col-lg-8 col-md-12 col-sm-12 col-lg-offset-2 text-center" style="margin-top:5px;">
                        <h4 class="dark-grey">Search for Patient</h4>
                        <form role="form" method="POST">
                            <fieldset>
                                <div class="form-group col-lg-3 col-md-12 col-sm-6 col-xs-6">
                                    <label>Medical Ref Number</label>
                                    <input type="number" name="mrn" class="form-control" id="MRN" value="" placeholder="123456">
                                </div>
                                <div class="form-group col-lg-3 col-md-12 col-sm-6 col-xs-6">
                                    <label>Date</label>
                                    <input type="date" name="date" class="form-control" id="date" value="" placeholder="YYYY-MM--DD">
                                </div>
                                <div class="form-group col-lg-3 col-md-12 col-sm-6 col-xs-6">
                                    <label for="sel1">Start Time(Hour):</label>
                                    <select class="form-control" name="st_time">
                                        <?php for ($x=0 ; $x < 24; $x++) { echo "<option value='".$x. "'>".$x. "</option>"; } ?>
                                    </select>
                                </div>
                                <div class="form-group col-lg-3 col-md-12 col-sm-6 col-xs-6">
                                    <label for="sel1">Finish Time(Hour):</label>
                                    <select class="form-control" name="end_time">
                                        <?php for ($y=0 ; $y < 24; $y++) { echo "<option value='".$y. "'>".$y. "</option>"; } ?>
                                    </select>
                                </div>
                                <div class="col-lg-12">
                                    <input type="submit" class="btn btn-lg btn-success btn-block" name="search" value="Search">
                                </div>
                            </fieldset>
                        </form>
                    </div>
                    <!-- /.row -->
                    <div class="col-lg-8 col-md-12 col-sm-12 col-lg-offset-2" id="graph" style="margin-top:10px;">
                        <div class="panel panel-default">
                            <div class="panel-heading text-center">
                                 <h4 id="pTitle">Please Search for a Patient</h4>
                            </div>
                        </div>
                    	<div id="chart-container">
							<div id="y_axis"></div>
							<div id="chart"></div>
							<div id="legend"></div>
						</div>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <!-- /.row -->
            </div>
            <!-- /#page-wrapper -->
        </div>
	<script>
var width  = $("#chart-container").innerWidth();
var height = $("#chart-container").innerHeight()*2;

var data = [{x: 1421625600.000000, y: 2},{x: 1421626500.000000, y: 2},{x: 1421627400.000000, y: 2},{x: 1421628300.000000, y: 3},{x: 1421629200.000000, y: 3},{x: 1421630100.000000, y: 2},{x: 1421631000.000000, y: 3},{x: 1421631900.000000, y: 2},{x: 1421632800.000000, y: 2},{x: 1421633700.000000, y: 2},{x: 1421634600.000000, y: 2},{x: 1421635500.000000, y: 3},{x: 1421636400.000000, y: 3},{x: 1421637300.000000, y: 1},{x: 1421638200.000000, y: 1},{x: 1421639100.000000, y: 3},{x: 1421640000.000000, y: 3},{x: 1421640900.000000, y: 2},{x: 1421641800.000000, y: 1},{x: 1421642700.000000, y: 3},{x: 1421643600.000000, y: 1},{x: 1421644500.000000, y: 1},{x: 1421645400.000000, y: 3},{x: 1421646300.000000, y: 3},{x: 1421647200.000000, y: 1},{x: 1421648100.000000, y: 3},{x: 1421649000.000000, y: 3},{x: 1421649900.000000, y: 1},{x: 1421650800.000000, y: 2},{x: 1421651700.000000, y: 3},{x: 1421652600.000000, y: 1},{x: 1421653500.000000, y: 3},];
var graph = new Rickshaw.Graph( {
	width: width,
	height:height,
	interpolation: 'step',
	element: document.getElementById("chart"),
	renderer: 'line',
	padding: { top: 0.1 },
	series: [
		{
			color: "steelblue",
			data: data,
			name: 'Position'
		}
	]
} );

var format = function(n) {

	var map = {
		0: 'front',
		1: 'left',
		2: 'back',
		3: 'right'
	};

	return map[n];
}

var time = new Rickshaw.Fixtures.Time();
var hours = time.unit('hour');

var x_ticks = new Rickshaw.Graph.Axis.Time( {
	graph: graph,
	timeUnit: hours
} );
var y_ticks = new Rickshaw.Graph.Axis.Y( {
	graph: graph,
	orientation: 'right',
	tickFormat: format,
	element: document.getElementById('y_axis')
} );

graph.render();

var legend = document.querySelector('#legend');

var Hover = Rickshaw.Class.create(Rickshaw.Graph.HoverDetail, {

	render: function(args) {

		legend.innerHTML = args.formattedXValue;

		args.detail.sort(function(a, b) { return a.order - b.order }).forEach( function(d) {

			var line = document.createElement('div');
			line.className = 'line';

			var swatch = document.createElement('div');
			swatch.className = 'swatch';
			swatch.style.backgroundColor = d.series.color;

			var label = document.createElement('div');
			label.className = 'label';
if(d.formattedYValue == 0){
	label.innerHTML = d.name + ": Front";
}
else if(d.formattedYValue == 1){
	label.innerHTML = d.name + ": Left";
}
else if (d.formattedYValue == 2){
	label.innerHTML = d.name + ": Back";
}
else if (d.formattedYValue == 3){
	label.innerHTML = d.name + ": Right";
}
			line.appendChild(swatch);
			line.appendChild(label);

			legend.appendChild(line);

			var dot = document.createElement('div');
			dot.className = 'dot';
			dot.style.top = graph.y(d.value.y0 + d.value.y) + 'px';
			dot.style.borderColor = '#F00';

			this.element.appendChild(dot);

			dot.className = 'dot active';

			this.show();

		}, this );
        }
});
var hover = new Hover( { graph: graph } );

//*
$(window).on('resize',resize);


function resize() {
  graph.configure({
    width: $("#chart-container").innerWidth(),
  });
  graph.render();

}
//*/
	</script>
</body>
</html>